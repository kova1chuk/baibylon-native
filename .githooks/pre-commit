#!/bin/sh

echo "ğŸ”„ Pre-commit: Running linting and formatting checks..."

# Run ESLint
echo "ğŸ“ Checking code with ESLint..."
pnpm exec eslint . --ext .js,.jsx,.ts,.tsx

if [ $? -ne 0 ]; then
  echo "âŒ Pre-commit: ESLint found issues. Please fix them before committing."
  exit 1
fi

# Run Prettier check
echo "ğŸ¨ Checking code formatting with Prettier..."
pnpm exec prettier --check .

if [ $? -ne 0 ]; then
  echo "âŒ Pre-commit: Prettier found formatting issues. Please run 'pnpm exec prettier --write .' to fix them."
  exit 1
fi

echo "âœ… Pre-commit: All checks passed successfully!"
